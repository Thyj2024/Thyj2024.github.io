<!DOCTYPE html>

<html lang="en">

<head>
  <title>预约详情</title>
  <link rel="icon" type="image/png" href="/img/医院.png">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <style data-merge-styles="true"></style>
  <link href="/css/index2.css" rel="stylesheet" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<script id="allow-copy_script">(function agent() {
    let unlock = false
    document.addEventListener('allow_copy', (event) => {
      unlock = event.detail.unlock
    })

    const copyEvents = [
      'copy',
      'cut',
      'contextmenu',
      'selectstart',
      'mousedown',
      'mouseup',
      'mousemove',
      'keydown',
      'keypress',
      'keyup',
    ]
    const rejectOtherHandlers = (e) => {
      if (unlock) {
        e.stopPropagation()
        if (e.stopImmediatePropagation) e.stopImmediatePropagation()
      }
    }
    copyEvents.forEach((evt) => {
      document.documentElement.addEventListener(evt, rejectOtherHandlers, {
        capture: true,
      })
    })
  })()</script>





<body data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
  <div id="content" style="visibility: visible;" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
    <js-frame src="https://ds.js.design/elements/js_hmkH5j25Dwf#"><template shadowrootmode="open">
        <div data-type="scroll-container" style="padding-bottom: 0px;"
          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
          <div data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
            <div data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">

              <div class="frame-Jbm-2 " data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                <div class="frame-Lty-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                  <div class="frame-uie-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="text-LqE-1"
                      style="visibility: visible; opacity: 1; transform-origin: 0% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                      data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-LqE-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-hVF-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">我的挂号</span>
                      </div>
                    </div>
                    <div class="text-VPj-2"
                      style="visibility: visible; opacity: 1; transform-origin: 0% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                      data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-VPj-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-JMO-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">以下是您的挂号记录，您可以查看、取消或修改已有的挂号。</span>
                      </div>
                    </div>
                  </div>
                  <div class="frame-sNL-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-MmJ-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="text-tbE-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-tbE-1"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-qpQ-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">查看详情</span></div>
                      </div>
                    </div>
                    <div class="frame-ura-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="text-dlL-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-dlL-1"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-gKQ-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">取消挂号</span></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="frame-Ejv-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                  <div class="frame-DkO-1"
                    style="visibility: visible; opacity: 1; transform-origin: 50% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                    data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-WQO-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-XLv-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="frame-YlN-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="text-pOu-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-pOu-1"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-PcJ-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">邹秀英</span></div>
                        </div>
                        <div class="text-cMk-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-cMk-2"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-PmV-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">工程师</span></div>
                        </div>
                      </div>
                    </div>
                    <div class="frame-HPY-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-rectangle-sHa-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                    </div>
                    <div class="frame-yDI-3" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-zgJ-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="text-Rrm-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-Rrm-2"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-otZ-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">已完成</span></div>
                      </div>
                    </div>
                    <div class="text-Vho-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-Vho-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-oPY-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">1971-05-11</span>
                      </div>
                    </div>
                    <div class="text-UFb-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-UFb-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-keO-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">06:59:49</span>
                      </div>
                    </div>
                  </div>
                  <div class="frame-sCT-2"
                    style="visibility: visible; opacity: 1; transform-origin: 50% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                    data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-GAd-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-sGI-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="frame-EVl-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="text-rkc-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-rkc-1"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-ZtY-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">云勇</span></div>
                        </div>
                        <div class="text-Znx-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-Znx-2"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-mUV-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">记者</span></div>
                        </div>
                      </div>
                    </div>
                    <div class="frame-tTb-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-rectangle-NmE-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                    </div>
                    <div class="frame-eHp-3" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-lYp-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="text-Yai-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-Yai-2"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-iUS-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">已取消</span></div>
                      </div>
                    </div>
                    <div class="text-ffb-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-ffb-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-lPu-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">2012-09-19</span>
                      </div>
                    </div>
                    <div class="text-qRO-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-qRO-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-xoR-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">06:28:30</span>
                      </div>
                    </div>
                  </div>
                  <div class="frame-bWJ-3"
                    style="visibility: visible; opacity: 1; transform-origin: 50% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                    data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-rhp-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-zBi-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="frame-OYS-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="text-ADx-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-ADx-1"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-kdI-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">毕文静</span></div>
                        </div>
                        <div class="text-kls-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-kls-2"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-vTa-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">教师</span></div>
                        </div>
                      </div>
                    </div>
                    <div class="frame-NoP-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-rectangle-mpE-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                    </div>
                    <div class="frame-sAU-3" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-BGn-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="text-rlF-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-rlF-2"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-tpa-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">待就诊</span></div>
                      </div>
                    </div>
                    <div class="text-ZTB-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-ZTB-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-umN-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">1979-05-15</span>
                      </div>
                    </div>
                    <div class="text-oQH-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-oQH-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-HYj-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">06:19:14</span>
                      </div>
                    </div>
                  </div>
                  <div class="frame-leR-4"
                    style="visibility: visible; opacity: 1; transform-origin: 50% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                    data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-QyA-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-szW-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="frame-qWw-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="text-Trj-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-Trj-1"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-eOp-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">薛志丽</span></div>
                        </div>
                        <div class="text-jjL-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-jjL-2"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-SCV-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">教师</span></div>
                        </div>
                      </div>
                    </div>
                    <div class="frame-VTk-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-rectangle-wzr-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                    </div>
                    <div class="frame-FWg-3" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-CRh-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="text-Sko-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-Sko-2"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-zOH-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">待支付</span></div>
                      </div>
                    </div>
                    <div class="text-rXt-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-rXt-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-bzk-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">1985-09-08</span>
                      </div>
                    </div>
                    <div class="text-GFT-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-GFT-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-TIG-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">10:53:53</span>
                      </div>
                    </div>
                  </div>
                  <div class="frame-Ejp-5"
                    style="visibility: visible; opacity: 1; transform-origin: 50% 50%; transform: translate(0px, 0px) rotate(0deg) scale(1);"
                    data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                    <div class="frame-buU-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-nCW-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="frame-GTA-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="text-XVZ-1" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-XVZ-1"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-sNS-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">陶志明</span></div>
                        </div>
                        <div class="text-sWU-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                          <div class="p-text-sWU-2"
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                              class="span-UhD-1 "
                              data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">画家</span></div>
                        </div>
                      </div>
                    </div>
                    <div class="frame-hqk-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-rectangle-gNL-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                    </div>
                    <div class="frame-hBf-3" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="vec-circular-Qzr-1"
                        data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"></div>
                      <div class="text-spg-2" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <div class="p-text-spg-2"
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a"><span
                            class="span-TXy-1 "
                            data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">待评价</span></div>
                      </div>
                    </div>
                    <div class="text-SfS-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-SfS-4" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-RsQ-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">1982-12-12</span>
                      </div>
                    </div>
                    <div class="text-SVW-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                      <div class="p-text-SVW-5" data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">
                        <span class="span-lsH-1 "
                          data-immersive-translate-walked="2346b853-1ced-4f35-9785-8415a8fec85a">01:00:37</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <style>
                .overlay_center {

                  position: fixed;
                  top: 0;
                  left: 0;
                  right: 0;
                  bottom: 0;
                  margin: auto;
                  z-index: 9999;
                }

                .overlay_top_left {

                  position: fixed;
                  top: 0;
                  left: 0;
                  z-index: 9999;
                }

                .overlay_top_center {

                  position: fixed;
                  top: 0;
                  left: 0;
                  right: 0;
                  margin: auto;
                  z-index: 9999;
                }

                .overlay_top_right {

                  position: fixed;
                  top: 0;
                  right: 0 z-index 9999;
                }

                .overlay_bottom_left {

                  position: fixed;
                  bottom: 0;
                  left: 0;
                  margin: auto;
                  z-index: 9999;
                }

                .overlay_bottom_center {

                  position: fixed;
                  bottom: 0;
                  left: 0;
                  right: 0;
                  margin: auto;

                  z-index: 9999;
                }

                .popupMask {
                  position: fixed;
                  left: 0;
                  top: 0;
                  height: 100%;
                  width: 100%;
                  z-index: 9999;
                }
              </style>
            </div>
          </div>
        </div>
      </template></js-frame>
  </div>



  <script>
    const log = console.log.bind(console)
    const e = (sel) => document.querySelector(sel)

    // 获取url参数值
    const getUrlField = (key) => {
      let url = location.search.slice(1).split('&')
      let urlForm = url.reduce((pre, cur) => {
        let list = cur.split('=')
        pre[list[0]] = list[1]
        return pre
      }, {})
      return urlForm[key];
    }

    // 获取url的hash值，#后面的内容
    const getHashValue = function () {
      const url = window.location.href
      if (url.includes('#')) {
        const v = url.split('#')[1]
        return decodeURIComponent(v)
      }
      return ''
    }

    // 是否是预发布环境，url参数staging=true标记为预发布环境
    const isStaging = function () {
      return getUrlField('staging') === 'true'
    }



    // 根据参数id，获取d2c组件url
    const getUrlXComponent = function () {
      const id = getUrlField('id');
      const versionId = getUrlField('versionId')
      const hashValue = getHashValue()
      if (versionId) {
        const accessKey = getUrlField('accessKey')
        return `${getApi()}/elements/${id}?unionId=${id}&versionId=${versionId}&accessKey=${accessKey}#${hashValue}`;
      }
      return `${getApi()}/elements/${id}#${hashValue}`;
    }

    // 加载jsframe
    const loadJsFrame = function () {
      // 加载js-frame
      let jsFrameScript = document.createElement('script');
      jsFrameScript.src = 'https://img.js.design/assets/Resources/xframe/latest/jsframe.js';
      document.body.appendChild(jsFrameScript);
    }

    /**
     * 监听画板切换事件
    */
    function addListenerSwitchFrame() {
      const jsFrame = document.querySelector('js-frame');
      if (jsFrame) {
        jsFrame.on('__global__SWITCH_FRAME', function (event) {
          document.title = event.frameName;
        })
      }
    }

    const addListenerReadyStateChange = function (jsFrame) {
      const _onceListener = (function () {
        let _isListener = false;
        return () => {
          if (_isListener) return;
          _isListener = true;
          addListenerSwitchFrame();
        }
      })();
      jsFrame.addEventListener('jsFrameReadystatechange', function (e) {
        if (jsFrame.readyState.label === 'inited') {
          _onceListener();
        }
      })
    }

    // 加载d2c组件


    // 监听hash值，对jsframe src进行更新
    const listenHashChange = function () {
      window.addEventListener('hashchange', () => {
        const jsFrame = document.querySelector('js-frame')
        if (jsFrame) {
          jsFrame.setAttribute('src', getUrlXComponent())
        }
      })
    }

    // 监听reload，触发页面刷新
    const listenReload = function () {
      window.addEventListener('message', (event) => {
        if (event.data === 'reload') {
          location.reload()
        }
      }, false)
    }

    // 小宽度，居中显示
    const changeContentWidth = function () {
      const w = window.jsdD2CfirstFrameWidth
      if (w && w <= 500) {
        const content = e('#content')
        content.style = `
                margin: 0 auto;
                width: ${w}px;
            `
      }
    }

    /**
     * 显示内容
     * */
    const showContent = function () {
      const content = e('#content')
      content.style.visibility = 'visible'
    }


    function uncheckedHandler() {
      const accessKey = getUrlField('accessKey');
      if (accessKey) {
        const uncheckedEl = document.getElementById('unchecked');
        if (!uncheckedEl) return;
        uncheckedEl.style.display = 'block';
      }
    }

    const __main = function () {
      loadJsFrame()
      loadXComponent()
      listenHashChange()
      listenReload()
      uncheckedHandler()

      window.onload = () => {
        changeContentWidth()
        showContent()
      }
    }

    __main()
  </script>

</body>

</html>